### 1장. 엘라스틱 서치 소개
- 검색엔진과 검색엔진이 다루는 문제
- 검색엔진으로서 엘라스틱서치가 얼마나 적합한가
- 전형적인 사용 시나리오
- 엘라스틱서치가 제공하는 기능들
- 엘라스틱서치 설치하기 

#### 1.1 엘라스틱서치로 검색 문제 해결
###### 1.1.1 빠른 검색 제공 
- 루씬(Lucin)은 역 색인(inverted indexing) 사용
  - 역 색인: 각각의 단어가 어디에 속해있는지 목록을 유지하는 자료구조를 생성 
- 색인은 디스크 공간을 차지함
  - 데이터를 추가한 후에 색인을 갱신해야 하기 때문 
  - 튜닝을 통해 색인과 검색시 엘라스틱서치를 빠르게 만들 수 있음
###### 1.1.2 관련 결과 보장
- 관련성 점수(relevancy score)를 계산하기 위해 몇 가지 알고리즘 사용 
  - 관련성 점수: 검색 조건과 일치하는 각각의 문서에 할당된 점수 

- tf-idf 알고리즘
  - 단어 빈도 - 역 문서 빈도(term frequency - inverse document frequency)
  - 단어 빈도: 문서에서 찾고자 하는 단어가 많이 나올 수록 높은 점수를 준다
  - 역 문서 빈도: 단어가 다른 문서들 간에 흔치 않으면 각 단어의 가중치가 더 높다
###### 1.1.3 완전 일치를 뛰어넘어 검색하기
1. 오타 처리
    - fuzzy 질의 
2. 파생어 지원
   - analysis를 사용
     - 제목이 'bicycle'인 블로그가 'bicyclist', 'cycling'을 포함한 질의와 일치하도록 만듦
3. 통계 사용
    - 집계(aggregation)을 통해 통계를 보여줌 
4. 제안 제공
   - 인기 있는 검색과 결과를 찾도록 도움 
   - 자동완성을 위한 '좀 더 빠른 질의', 와 '검색 제안' 기능 같은 제안자

#### 1.2 일반적인 엘라스틱서치 사용 사례
###### 1.2.1 엘라스틱서치를 기본 백엔드로 사용하기 
- 엘라스틱서치는 transaction을 지원하지 않음 
  - 3장에서 동시성을 관리하기 위해 어떻게 버전을 사용하는지 볼 것 

###### 1.2.2 기존 시스템에 엘라스틱서치 추가하기
- 이미 동작하는 복잡한 시스템을 가지고 있지만, 검색을 추가하길 원할 때 
- 두 개의 데이터 저장소를 가지고 있다면, 지속해서 동기화하는 방법을 찾아야 함

###### 1.2.3 기존 도구와 함께 엘라스틱서치 사용하기 
- 엘라스틱 서치는 어떠한 애플리케이션도 접근할 수 있는 REST API 제공 

###### 1.2.4 엘라스틱서치의 주요 특징 
- 데이터를 색인하고 검색하는 루씬의 기능들에 쉽게 접근하도록 해줌 
- REST API를 통해 기능을 제공하고 JSON으로 질의하며 설정을 API를 통해 조절할 수 있음
- 클러스터링할 수 있음

###### 1.2.5 루씬 기능 확장
- 분석을 통해 색인하는 문서에서 추출된 단어(words)는 엘라스틱서치에서 텀(term)이 된다.
  - ex. bicycle race -> "bicycle", "race", "cycling", "racing"

###### 1.2.6 엘라스틱서치에서 데이터 구조화하기 
- RDBMS와는 달리 데이터를 문서 단위로 저장

###### 1.2.7 자바 설치
생략
###### 1.2.8 엘라스틱서치 내려받아 시작하기
생략

#### 1.2 요약
- 엘라스틱서치는 아파치 루씬 위에서 만들어진 오픈소스 분산 검색엔진
- 엘라스틱서치의 일반적인 쓰임은 많은 양의 데이터를 색인해서 전문검색과 실시간 통계를 실행하는 것
- 엘라스틱서치는 전문검색을 뛰어넘는 특성들을 가지고 있음. 예를 들어 검색의 유사성을 조정하여 검색 제안을 줄 수 있음
- 설정 관리 뿐 아니라 데이터 색인과 검색을 위해 HTTP API를 통한 JSON을 사용하고 JSON응답을 받음
- 실시간 검색과 분석 능력을 가진 NoSQL 데이터 저장소로도 볼 수 있음
- 자동으로 데이터를 샤드에 나눠서 클러스터의 이용 가능한 서버들 간에 균형을 유지함