### Chapter 12. 애플리케이션에서 복제 셋 연결
- 연결 및 장애 조치를 수행하는 방법
- 쓰기 시 복제 대기하는 방법
- 올바른 멤버에 읽기 요청을 라우팅하는 방법

#### 12.1 클라이언트-복제 셋 연결 동작
- 몽고DB 드라이버는 서버가 몽고DB 서버와의 통신을 관리하도록 설계됨 
- 복제셋이면 기본적으로 드라이버는 프라이머리에 연결되고 모든 트래픽을 프라이머리에 라우팅
- 시드: 애플리케이션이 데이터를 읽고 쓸 복제 셋의 멤버

#### 12.2 쓰기 시 복제 대기하기 
- 복제 셋에 어떤 일이 발생하든 쓰기가 지속되려면 각 쓰기가 복제 셋 멤버 과반수에 전파되어야 함 
##### 12.2.1 "w"에 대한 다른 옵션
- "w" 값은 프라이머리를 포함 
- 숫자를 사용할 때 단점은 복제 셋 구성이 변하면 애플리케이션을 변경해야 함 

#### 12.3 사용자 정의 복제 보증
- 복제 셋의 과반수에 쓰기를 하면 '안전'하다고 여겨짐 
- 복제 셋은 어떤 서버의 조합이 필요하든 관계없이 복제를 보장하기 위해 사용자 규칙을 만들어 "getLastError"에 넘겨주게 함
##### 12.3.1 데이터 센터당 하나의 서버 보장하기
##### 12.3.2 숨겨지지 않은 멤버의 과반수 보장하기
##### 12.3.3 기타 보장 생성하기 

#### 12.4 세컨더리로 읽기 전송
- 기본적으로 드라이버는 모든 요청을 프라이머로 라우팅함 
- 드라이버에서 읽기 선호도를 설정하여 다른 옵션을 구성할 수도 있음 

##### 12.4.1 일관성 고려 사항
- 매우 일관된 읽기가 필요한 애플리케이션은 세컨더리로부터 읽기를 수행하면 안됨 
##### 12.4.2 부하 고려 사항
- 부하를 고려하는 좋은 방법은 샤딩
##### 12.4.3 세컨더리에서 읽기를 하는 이유