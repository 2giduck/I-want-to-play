### 8장. 고객 앞으로! 소프트웨어 전달

#### 소프트웨어 전달의 4가지 단계
- 소프트웨어는 반드시 패키지로 빌드돼야 함
- 패키지는 생성되면 반드시 릴리스 돼야 함 
  - 릴리스 노트와 변경 로그 업데이트 
- 릴리스 산출물은 테스트나 프로덕션에 배포
- 배포과 완료되면 사용자가 새로운 소프트웨어를 사용하도록 롤아웃 
  - 사용자 피드백 수집
  - 버그 발견 
  - 새로운 제품 요구사항 수집 

#### 효과적인 버전 제어를 위한 브랜칭 전략
- 트렁크: 변경 이력을 가진 주 버전의 코드베이스
- 브랜치: 코드를 수정하기 위해 트렁크로부터 '가지 쳐 나온'것

1. 트렁크 기반 개발: 모든 개발자가 브랜치를 트렁크에서 가지 치기
   - 개발자가 브랜치를 공유하지 않으며 일 단위로 신속하게 머지하는 환경에 적합
2. 기능 브랜치 기반 개발: 기능 브랜치가 상당히 오래 유지되며 많은 개발자가 동시에 이 브랜치에서 작업함
    - 리베이스 수행
    - 트렁크를 안정화시키는 동안 개발자가 기능 개발을 수행할 수 없는 경우 사용하는 방법

#### 빌드 단계
- 소프트웨어 빌드: 의존성 해석 및 링킹, 린터 실행, 컴파일, 테스트, 패키징 
- 패키지에 버전을 명시하자
- 리소스는 각각 별도로 패키징하자

#### 릴리스 단계 
- 릴리스를 남의 일로 여기지 말자 
- 패키지를 릴리스 리포지토리로 발행하자 
- 릴리스는 불변성을 갖게 하자 
- 자주 릴리스하자
- 릴리스 일정은 투명하게 공유하자 
- 변경 로그와 릴리스 노트를 발행하자

#### 배포 단계
- 배포를 자동화하자
- 배포는 원자적으로 수행하자 
- 애플리케이션을 독립적으로 배포하자 

#### 롤아웃 단계
- 롤아웃 전략
  - 기능 플래그: 각각의 코드 경로를 실행하는 사용자 비율 제어
  - 서킷 브레이커: 자동으로 코드 경로를 바꿔줌
  - 다크 론치
  - 카나리 배포
  - 블루-그린 배포
- 롤아웃을 모니터링하자 
- 기능 플래그를 활용하자 
- 서킷 브레이커를 이용해 코드를 보호하자 
- 서비스 버전은 병렬로 올리자 
- 다크 모드로 론칭하자 

#### 개발자의 필수 체크리스트
- 가능하다면 트렁크 기반 개발과 지속적 통합을 사용하자
- 버전 제어 시스템 도구를 이용해 브랜치를 관리하자
- 릴리스 및 운영 팀과 협업을 통해 애플리케이션에 적합한 절차를 구현하자
- 릴리스 변경 로그와 릴리스 노트를 발행하자
- 릴리스가 발행되면 사용자에게 알려주자
- 배포 자동화는 사용 도구를 이용하자
- 기능 플래그를 이용해 변경을 점진적으로 롤아웃하자
- 서킷 브레이커를 이용해 애플리케이션이 심각한 피해를 입지 않게 하자
- 주요 변경사항은 트래픽 섀도잉과 다크 론치를 활용해 검증하자 
